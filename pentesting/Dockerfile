FROM kalilinux/kali-linux-docker

COPY ./ssl/* /var/www/ssl/

RUN apt-get update \
    && apt-get install --no-install-recommends -y \
    ca-certificates \
    && cp -p /var/www/ssl/ca.cert.pem /usr/local/share/ca-certificates/development.local.ca-cert.crt \
    && update-ca-certificates

RUN apt-get update \
    && apt-get install --no-install-recommends -y \
    vim-tiny \
    python3 \
    curl \
    git \
    && git clone --depth 1 https://github.com/sqlmapproject/sqlmap.git /sqlmap \
    && apt-get install -y \
    libcurl4-openssl-dev \
    libssl-dev \
    python3-pip \
    && pip3 install \
    pycurl \
    bs4 \
    geoip2 \
    gobject \
    cairocffi \
    urllib3 \
    json2html \
    tabulate \
    && git clone --depth 1 https://github.com/epsylon/xsser.git /xsser \
    && git clone --depth 1 https://github.com/s0md3v/XSStrike.git /xsstrike \
    && git clone --depth 1 https://github.com/stanislav-web/OpenDoor.git /opendoor \
    && git clone --depth 1 https://github.com/commixproject/commix.git /commix \
    && apt-get autoremove -y

WORKDIR /sqlmap

ENTRYPOINT /bin/bash && sleep infinity
